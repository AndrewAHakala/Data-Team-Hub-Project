version: 2

sources:
  - name: tpch
    database: hakala_raw_data  
    schema: tpch_data  
    tables:
      - name: customer
        columns: 
          - name: c_custkey
            tests:
            - unique
            - not_null
      - name: lineitem
      - name: nation
      - name: orders
        freshness: # make this a little more strict
          warn_after: {count: 6, period: hour}
          #error_after: {count: 12, period: hour}
        loaded_at_field: CREATED_TIMESTAMP
      - name: part
      - name: partsupp
      - name: region
      - name: supplier

  - name: stripe
    tables:
      - name: payments